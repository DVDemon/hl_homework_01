<!DOCTYPE html>
<html>
 <head>
 <title>Dummy Social Network</title>
 <style>
     label {
        display: block;
        font: .9rem 'Fira Sans', sans-serif;
        }
    input[type='submit'],
        label {
            margin-top: 1rem;
        }
  </style>
 <script>
     function check(){
            document.getElementById("message").innerHTML = "";
            var login =  document.getElementById("login").value;
            var password1 =  document.getElementById("password1").value;
            var password2 =  document.getElementById("password2").value;
            var first_name =  document.getElementById("first_name").value;
            var last_name =  document.getElementById("last_name").value;
            var age =  document.getElementById("age").value;
            var hobby =  document.getElementById("hobby").value;
            var city =  document.getElementById("city").value;

            
            var body = '';
            body+='login='+encodeURIComponent(login);
            body+='&password1='+encodeURIComponent(password1);
            body+='&password2='+encodeURIComponent(password2);
            body+='&first_name='+encodeURIComponent(first_name);
            body+='&last_name='+encodeURIComponent(last_name);
            body+='&age='+encodeURIComponent(age);
            body+='&hobby='+encodeURIComponent(hobby);
            body+='&city='+encodeURIComponent(city);
            
            var xhr = new XMLHttpRequest();

            xhr.open("POST", "signup", true);
            xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
            xhr.send(body);
        

            xhr.onreadystatechange = function(){
            if (xhr.readyState == 4 && xhr.status== 200){
                var jsonData = xhr.responseText;
                var jsObject = JSON.parse(jsonData);

                if(!jsObject.result){
                    document.getElementById("message").innerHTML = jsObject.reason;
                } else {
                    document.getElementById("message").innerHTML = "Signup done";
                }
            }
        }
            
     };
 </script>
 </head>
 <body> 
 <h2>Enter Personal Data</h2>
 <div>
    <label for="login">Username:</label>
    <input type="text" id="login" name="login">
 </div>
 <div>
    <label for="password1">Password:</label>
    <input type="password" id="password1" name="password1">
</div>
<div>
    <label for="password2">Re-type Password:</label>
    <input type="password" id="password2" name="password2">
</div>
<div>
    <label for="first_name">First Name:</label>
    <input type="text" id="first_name" name="first_name">
</div>
<div>
    <label for="last_name">Last Name:</label>
    <input type="text" id="last_name" name="last_name">
</div>
<div>
    <label for="age">Age:</label>
    <input type="text" id="age" name="age">
</div>
<div>
    <label for="hobby">Hobby:</label>
    <input type="text" id="hobby" name="hobby">
</div>
<div>
    <label for="city">City:</label>
    <input type="text" id="city" name="city">
</div>
<div id="message"></div>
<input type="submit" value="Sign up" onclick="check();">
</body>
</html>